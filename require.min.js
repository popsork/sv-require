this.require=function(f){var m=request.getAttribute("sitevision.utils"),q=request.getAttribute("sitevision.jcr.session"),r=m.i,g=m.j,h,n,k,p,l={};n=function(d){if(d=r.e(d,"URI")){d=d.h();for(var b=new BufferedReader(new InputStreamReader(d)),c=new java.lang.d,a=2E4,e=b.c();e&&0<--a;)c.append(e+"\n"),e=b.c();d.close();return c.toString()+""}return null};h=function(d){var b=d.identifier+"";if(b in l)return l[b];var c=n(d),a={a:{}};(new Function("require","module","exports",c)).call(a.a,function(a){if(a=
k(d.path+"",a))return h(a)},a,a.a);return l[b]=a.a};p=function(d,b){var c=g.b.path+"",a=d.replace(c,"");-1<a.indexOf(".",a.lastIndexOf("/"))&&(a=a.substr(0,a.lastIndexOf("/")));if("/"==b.substr(0,1))return c+b;"./"==b.substr(0,2)&&(b=b.substr(1));"/"!=b.substr(0,1)&&(b="/"+b);"/"==a.substr(a.length-1)&&(a=a.substr(0,a.length-1));for(var c=(c+a+b).split("/"),a=[],e=0;e<c.length;e++){var f=c[e];".."==f?a.pop():a.push(f)}return a.join("/")};k=function(d,b){var c=null;b.match(/^18\.(.*?)$/)?c=q.f(b):
(c=p(d,b),c=g.g(c));return c};return(f=k(g.b.path+"",f))?h(f):null};
